Thank you for installing mmrelay!

Your release is named {{ .Release.Name }}.

To learn more about the release, try:

  $ helm status {{ .Release.Name }}
  $ helm get all {{ .Release.Name }}

To verify the deployment:

  {{- if .Release.Namespace }}
  $ kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/name={{ include "mmrelay.name" . }},app.kubernetes.io/instance={{ .Release.Name }}
  {{- else }}
  $ kubectl get pods -l app.kubernetes.io/name={{ include "mmrelay.name" . }},app.kubernetes.io/instance={{ .Release.Name }}
  {{- end }}

To run diagnostics inside the pod:

  {{- if .Release.Namespace }}
  $ POD_NAME=$(kubectl get pods -n {{ .Release.Namespace }} -l app.kubernetes.io/name={{ include "mmrelay.name" . }},app.kubernetes.io/instance={{ .Release.Name }} -o jsonpath='{.items[0].metadata.name}')
  $ kubectl exec -n {{ .Release.Namespace }} $POD_NAME -- mmrelay doctor --config /app/config.yaml
  {{- else }}
  $ POD_NAME=$(kubectl get pods -l app.kubernetes.io/name={{ include "mmrelay.name" . }},app.kubernetes.io/instance={{ .Release.Name }} -o jsonpath='{.items[0].metadata.name}')
  $ kubectl exec $POD_NAME -- mmrelay doctor --config /app/config.yaml
  {{- end }}

IMPORTANT:
- Config must be provided via {{ include "mmrelay.configSource" . }} ({{ .Values.config.name }})
- Persistence is {{ if .Values.persistence.enabled }}enabled{{ else }}disabled{{ end }}
- {{ if .Values.persistence.enabled }}All persistent data lives under {{ .Values.mmrelayHome }} on the PVC{{ else }}{{ .Values.mmrelayHome }} uses emptyDir and is ephemeral{{ end }}

For more information on using this Helm chart, see:
https://github.com/jeremiah-k/meshtastic-matrix-relay/blob/main/docs/HELM.md
