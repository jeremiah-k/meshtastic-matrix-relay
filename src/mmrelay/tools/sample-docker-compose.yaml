services:
  mmrelay:
    build: .
    container_name: meshtastic-matrix-relay
    restart: unless-stopped
    user: "${UID:-1000}:${GID:-1000}"
    volumes:
      # Mount your config directory - create ~/.mmrelay/config.yaml first
      # Run 'make config' to set up the files
      # Mount config.yaml read-only at the canonical in-container path
      - ${MMRELAY_HOME}/.mmrelay/config.yaml:/app/config.yaml:ro
      - ${MMRELAY_HOME}/.mmrelay:/app/data
      # Tip: ensure MMRELAY_HOME is exported or present in .env
